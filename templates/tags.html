{% extends "base.html" %}

{% block title %}Tags - Cobra DB{% endblock %}

{% block content %}
<div class="container">
    <h2 class="mb-4 text-center">Tags</h2>
    <div class="tag-cloud p-4" id="tagCloud">
        <div class="bubble-layer"></div>
        {% for tag in tags %}
            {% set max_count = tags[0]['count'] %}
            {% set min_count = tags[-1]['count'] %}
            {% set size_range = 2.5 %}
            {% set size = 0.8 + (size_range * (tag['count'] - min_count) / (max_count - min_count)) %}
            <a href="/tag/{{ tag['name'] }}"
               class="tag-item"
               style="--animation-order: {{ loop.index }}; font-size: {{ size }}rem;"
               data-count="{{ tag['count'] }}"
               title="{{ tag['count'] }} videos">
                {{ tag['name'] }}
                <span class="topic-count" style="font-size: 0.8rem;">{{ tag['count'] }}</span>
            </a>
        {% endfor %}
    </div>
</div>

{% endblock %}
